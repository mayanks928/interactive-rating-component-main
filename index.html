<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />

    <title>Frontend Mentor | Interactive rating component</title>

    <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
    <style>
      .attribution {
        font-size: 11px;
        text-align: center;
      }
      .attribution a {
        color: hsl(228, 45%, 44%);
      }
    </style>
  </head>
  <body>
    <!-- Rating state start -->

    <div class="maincard">
      <div class="starsvg"><img class="star" src="images/icon-star.svg" /></div>
      <h1 class="title">How did we do?</h1>
      <p class="message">
        Please let us know how we did with your support request. All feedback is
        appreciated to help us improve our offering!
      </p>
      <div class="ratings">
        <div class="rating rating1" data-value="1">1</div>
        <div class="rating rating1" data-value="2">2</div>
        <div class="rating rating1" data-value="3">3</div>
        <div class="rating rating1" data-value="4">4</div>
        <div class="rating rating1" data-value="5">5</div>
      </div>
      <button class="button" onclick="submitfn()">SUBMIT</button>
      <!-- Rating state end -->
      <!-- Thank you state start -->
      <!-- You selected -->
      <!-- Add rating here -->
      <!-- out of 5 Thank you! We appreciate you taking the time to give a rating. If
      you ever need more support, don’t hesitate to get in touch! -->
    </div>

    <!-- Thank you state end -->

    <div class="attribution">
      Challenge by
      <a href="https://www.frontendmentor.io?ref=challenge" target="_blank"
        >Frontend Mentor</a
      >. Coded by <a href="#">Your Name Here</a>.
    </div>
    <script>
      var currentrating = null;
      const ratings = document.querySelectorAll(".rating");
      ratings.forEach((rating) =>
        rating.addEventListener("click", changeactiverating)
      );
      function changeactiverating(e) {
        ratings.forEach((rating) =>
          rating != this && rating.classList.contains("rating-active")
            ? rating.classList.remove("rating-active")
            : null
        );
        if (currentrating != this.dataset.value) {
          currentrating = this.dataset.value;
        } else {
          currentrating = null;
        }
        this.classList.toggle("rating-active");
        console.log(currentrating);
      }
      var thankyoupage = `
      <img src="images/illustration-thank-you.svg" />
      <div class="ratingmessage">You selected ${currentrating} out of 5  </div>
      <h1 class="title">Thank you!</h1>
      <p class="message thankyouscreen">
        We appreciate you taking the time to give a rating. If
      you ever need more support, don’t hesitate to get in touch
      </p>
      `;
      function submitfn() {
        if (!currentrating) {
          return;
        } else {
          var thankyoupage = `
      <img src="images/illustration-thank-you.svg" />
      <div class="ratingmessage">You selected ${currentrating} out of 5  </div>
      <h1 class="title">Thank you!</h1>
      <p class="message thankyouscreen">
        We appreciate you taking the time to give a rating. If
      you ever need more support, don’t hesitate to get in touch
      </p>
      `;
          maincard.classList.add("thankyouscreen");
          maincard.innerHTML = thankyoupage;
          maincard.removeChild(document.querySelector(".ratings"));
          maincard.removeChild(document.querySelector(".button"));
        }
      }
      const maincard = document.querySelector(".maincard");
      console.log(maincard.innerHTML);
    </script>
  </body>
</html>
